<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
        h1, h2, h3 { color: #333; }
        pre { background: #f4f4f4; padding: 10px; border-radius: 5px; overflow-x: auto; }
        code { color: #d63384; }
    </style>
</head>
<body>
    <h1>Social Media API Documentation</h1>
    <p>A RESTful API for a social media platform with user authentication, posts, and media upload capabilities.</p>
    
    <h2>Base URL</h2>
    <pre><code>https://your-api-url.vercel.app</code></pre>

    <h2>Authentication</h2>
    <p>The API uses JWT (JSON Web Token) for authentication. Include the token in the Authorization header:</p>
    <pre><code>Authorization: Bearer &lt;your_jwt_token&gt;</code></pre>

    <h2>Endpoints</h2>
    
    <h3>Authentication</h3>
    <h4>Sign Up</h4>
    <ul>
        <li><strong>URL:</strong> <code>/auth/signup</code></li>
        <li><strong>Method:</strong> <code>POST</code></li>
        <li><strong>Content-Type:</strong> <code>multipart/form-data</code></li>
    </ul>
    <pre><code>{
  "username": "string",
  "password": "string",
  "email": "string",
  "avatar": "file (optional)"
}</code></pre>

    <h4>Login</h4>
    <ul>
        <li><strong>URL:</strong> <code>/auth/login</code></li>
        <li><strong>Method:</strong> <code>POST</code></li>
        <li><strong>Content-Type:</strong> <code>application/json</code></li>
    </ul>
    <pre><code>{
  "username": "string",
  "password": "string"
}</code></pre>

    <h3>Users</h3>
    <h4>Get All Users</h4>
    <ul>
        <li><strong>URL:</strong> <code>/users</code></li>
        <li><strong>Method:</strong> <code>GET</code></li>
        <li><strong>Authentication:</strong> Not required</li>
    </ul>

    <h4>Get User by Username</h4>
    <ul>
        <li><strong>URL:</strong> <code>/users/:username</code></li>
        <li><strong>Method:</strong> <code>GET</code></li>
    </ul>

    <h4>Update User</h4>
    <ul>
        <li><strong>URL:</strong> <code>/users/upd/:id</code></li>
        <li><strong>Method:</strong> <code>PUT</code></li>
        <li><strong>Authentication:</strong> Required</li>
    </ul>

    <h3>Posts</h3>
    <h4>Get All Posts</h4>
    <ul>
        <li><strong>URL:</strong> <code>/posts</code></li>
        <li><strong>Method:</strong> <code>GET</code></li>
    </ul>

    <h4>Get Post by ID</h4>
    <ul>
        <li><strong>URL:</strong> <code>/posts/:id</code></li>
        <li><strong>Method:</strong> <code>GET</code></li>
    </ul>

    <h4>Create Post</h4>
    <ul>
        <li><strong>URL:</strong> <code>/posts/new</code></li>
        <li><strong>Method:</strong> <code>POST</code></li>
        <li><strong>Authentication:</strong> Required</li>
    </ul>
    <pre><code>{
  "title": "string",
  "content": "string",
  "media": "file (optional)"
}</code></pre>

    <h2>Error Responses</h2>
    <pre><code>{
  "error": "Error message description"
}</code></pre>

    <h2>Common HTTP Status Codes</h2>
    <ul>
        <li><code>200</code>: Success</li>
        <li><code>201</code>: Created</li>
        <li><code>204</code>: No Content</li>
        <li><code>400</code>: Bad Request</li>
        <li><code>401</code>: Unauthorized</li>
        <li><code>403</code>: Forbidden</li>
        <li><code>404</code>: Not Found</li>
        <li><code>500</code>: Internal Server Error</li>
    </ul>

    <h2>Environment Variables Required</h2>
    <pre><code>PORT=3000
URL=mongodb_connection_string
JWT_SECRET=your_jwt_secret
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret</code></pre>

    <h2>Security Features</h2>
    <ul>
        <li>Password hashing using bcrypt</li>
        <li>JWT-based authentication</li>
        <li>File type validation for uploads</li>
        <li>MongoDB injection protection</li>
        <li>CORS enabled</li>
    </ul>
</body>
</html>
